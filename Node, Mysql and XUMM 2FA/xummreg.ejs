<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta http-equiv="refresh" content="1; URL=http://localhost:3000/xummcreatereg" />
 
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <!-- meta monitization -->
 <!-- <meta name="monetization" content="$ilp.uphold.com/mbEiWZJmRzeq" /> -->
 <title>Register 2FA</title>
 <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
 <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
 <link rel="stylesheet" 
 href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
 <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
 <link rel="stylesheet" 
 href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  
  <!-- Bootstrap core CSS -->
  <link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Custom fonts for this template -->
  <link href="/vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/vendor/simple-line-icons/css/simple-line-icons.css">
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
<!-- Plugin CSS -->
  <link rel="stylesheet" href="/stylesheets/devicemockups/device-mockups.min.css">
  
  <!-- Custom styles for this template -->
<link href="/stylesheets/css/new-age.min.css" rel="stylesheet">
 <style>
  html{
   padding:50px;
  }
 </style>
</head>
<body>
  
<div class="page-header text-center">
  
 <img src="/images/xummlogo/xumm-logo.svg" class="img-fluid" alt="XUMM Logo"  width=150" height="150">
	</div>			
      
 <div class="container text-center">
  <div class="col-sm-6 col-sm-offset-3">
   <h3>Register your XUMM 2FA Address</h3>
   <span id="name"></span>
    <br></br>
    
<a id="link" href="">



         <img id="image" alt="Xumm-QRcode" width=150" height="150">
      </a>
      <br></br>
  </div>
 </div>
 <div class="text-center">
<span>Login Expires in: </span>
<span id="countdown">300</span> second<span id="plural">s</span>
</div>

<div class="container h-100">
    <div class="row h-100">   
      <div class="col-lg-5 my-auto">
          <div class="device-container">
            <div class="device-mockup iphone6_plus portrait black">
              <div class="device">
                <div class="screen">
                 <img src="/images/PortaXumm.jpeg" class="img-fluid" alt="Xumm Logo">
                </div>
                <div class="button" href="https//xumm.app">
                 
                </div>
              </div>
            </div>
          </div>
        </div>  
      </div>
     </div>
    </div>   

								
</body>

<script src="/socket.io/socket.io.js"></script>
<script>
	
      

    var socket = io('http://localhost:3000');
    
	var web;
    socket.on('address', function (data) {

    	document.getElementById('name').src=("XUMM Login Request Response: Scan to add address to you Account for 2FA");
    	document.getElementById('image').src=(data);
	
    });
    socket.on('NEXT', function (data) {
    	var link = data
    	document.getElementById("link").setAttribute("href", link);
    });
    
    var seconds = document.getElementById("countdown").textContent;
    var countdown = setInterval(function() {
        seconds--;
        (seconds == 1) ? document.getElementById("plural").textContent = "": document.getElementById("plural").textContent = "s";
        document.getElementById("countdown").textContent = seconds;
        if (seconds <= 0) clearInterval(countdown);
    }, 1000);
    
    </script>


  </html>